# Tayra Transcriptions Evaluation

Tayra Transcriptions Evaluation is a project designed to evaluate and benchmark various transcription services such as Azure Speech to Text, Azure OpenAI Whisper, and Fast transcription. The project provides a framework for comparing the accuracy and performance of these services, and generates detailed reports to help users make informed decisions.

The project also includes a transcription adjuster service that allows users to automatically correct and improve the accuracy of transcriptions generated by these services using LLMs (Azure OpenAI) to improve the quality of the transcriptions.

Finally, the project includes an evaluation service that calculates various metrics such as a Similarity Score using a LLM (GPT-4o), Cosine distance using Embeddings and the Kolmogorov-Smirnov [ks](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kstest.html) score to evaluate the similarity of the transcriptions generated by these services. The evaluation service also generates a final report applying a LLM-classifier to determine the impact of the different transcription services on the final result compared to the ground truth transcription.

## Features

This project framework provides the following features:

- Comparative analysis of multiple transcription services ([STT Realtime](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/how-to-recognize-speech?pivots=programming-language-python), [Whisper](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/whisper-overview), [Fast](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/fast-transcription-create))
- Automated evaluation metrics calculation (Similarity Score, Cosine distance, KS score)
- Detailed reporting of transcription applying a LLM-classifier to determine the impact of the different transcription services on the final result compared to the ground truth transcription

## Getting Started

### Prerequisites

- Python 3.8+
- Azure subscription
- Azure Speech Service
- Azure OpenAI
- Groundtruth transcriptions (they will be used to evaluate the transcriptions generated by the services). Please add your own files in the `transcriptions/groundtruth` directory.

### Installation

1. Clone the repository:
    ```sh
    git clone https://github.com/Azure-Samples/tayra-transcriptions-evaluation
    cd tayra-transcriptions-evaluation
    ```

2. Install dependencies:
    ```python
    pip install -r requirements.txt
    ```

### Quickstart

1. Transcribe audio files:
    ```sh
    python3 src/transcriber.py
    ```

2. Adjust transcriptions:
    ```sh
    python3 src/adjuster.py
    ```

3. Evaluate transcriptions:
    ```sh
    python3 src/evaluator.py
    ```

After running the above commands, you will see the final report in the `transcriptions` directory.

## Sample Data
We provide some sample data in the `audios` directory. You can use these files to test the project.
There are also some sample groundtruth transcriptions in the `transcriptions/groundtruth` directory.

These audio files and transcriptions were obtained from the [Kaggle - The LJ Speech Dataset](https://www.kaggle.com/datasets/mathurinache/the-lj-speech-dataset).

## Resources

- [Azure Speech Service](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/overview)
- [Azure OpenAI](https://learn.microsoft.com/en-us/azure/ai-services/openai/overview)
- [Azure OpenAI Whisper](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/whisper-overview)

## Contributing

This project welcomes contributions and suggestions. Please read the [CONTRIBUTING.md](CONTRIBUTING.md) file for guidelines on how to contribute.

## License

This project is licensed under the terms of the [LICENSE.md](LICENSE.md) file.